{"ast":null,"code":"var _jsxFileName = \"D:\\\\LaiOffer\\\\TravelPlannerFE\\\\src\\\\SharedComponents\\\\KeywordSearch.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Input, message } from 'antd';\nimport '../styles/Search.css';\nimport SearchResult from './SearchResult';\nimport { searchByKeyword } from '../Utils/searchUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\n\nconst KeywordSearch = ({\n  loadSearchResult,\n  loadSelectedPOI\n}) => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState();\n  const [resultVisible, setResultVisible] = useState(false); // const [showResult, setShowResult] = useState(false);\n\n  const onSearch = keyword => {\n    setLoading(true);\n    searchByKeyword(keyword).then(data => {\n      setResults(data);\n      setResultVisible(true);\n      loadSearchResult(data);\n    }).catch(err => message.error(err.message)).finally(() => {\n      setLoading(false);\n    });\n  };\n\n  const onCloseResults = () => {\n    setResultVisible(false);\n    setResults([]);\n    loadSearchResult([]);\n  };\n\n  const onPickedPOI = item => {\n    loadSelectedPOI(item);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-input\",\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        placeholder: \"input keyword\",\n        loading: loading,\n        enterButton: \"Search\",\n        size: \"medium\",\n        onSearch: onSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchResult, {\n      searchData: results,\n      visible: resultVisible,\n      onClose: onCloseResults,\n      onSelectPOI: onPickedPOI\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(KeywordSearch, \"M3Y14R6lWvGaLZF+f39xesXljvs=\");\n\n_c = KeywordSearch;\nexport default KeywordSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"KeywordSearch\");","map":{"version":3,"sources":["D:/LaiOffer/TravelPlannerFE/src/SharedComponents/KeywordSearch.js"],"names":["useState","Input","message","SearchResult","searchByKeyword","Search","KeywordSearch","loadSearchResult","loadSelectedPOI","loading","setLoading","results","setResults","resultVisible","setResultVisible","onSearch","keyword","then","data","catch","err","error","finally","onCloseResults","onPickedPOI","item"],"mappings":";;;AAAA,SAAQA,QAAR,QAAuB,OAAvB;AACA,SAAQC,KAAR,EAAeC,OAAf,QAA6B,MAA7B;AACA,OAAO,sBAAP;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAQC,eAAR,QAA8B,sBAA9B;;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAWJ,KAAjB;;AAGA,MAAMK,aAAa,GAAG,CAAC;AAACC,EAAAA,gBAAD;AAAmBC,EAAAA;AAAnB,CAAD,KAAyC;AAAA;;AAC3D,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,EAAtC;AACA,QAAM,CAACa,aAAD,EAAgBC,gBAAhB,IAAoCd,QAAQ,CAAC,KAAD,CAAlD,CAH2D,CAI5D;;AACC,QAAMe,QAAQ,GAAIC,OAAD,IAAa;AAC1BN,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAN,IAAAA,eAAe,CAACY,OAAD,CAAf,CAAyBC,IAAzB,CAA+BC,IAAD,IAAU;AACpCN,MAAAA,UAAU,CAACM,IAAD,CAAV;AACAJ,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAP,MAAAA,gBAAgB,CAACW,IAAD,CAAhB;AACH,KAJD,EAIGC,KAJH,CAIUC,GAAD,IAASlB,OAAO,CAACmB,KAAR,CAAcD,GAAG,CAAClB,OAAlB,CAJlB,EAKGoB,OALH,CAKW,MAAM;AACbZ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAPD;AAQH,GAVD;;AAYA,QAAMa,cAAc,GAAG,MAAI;AACvBT,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAL,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACH,GAJD;;AAKA,QAAMiB,WAAW,GAAIC,IAAD,IAAS;AACzBjB,IAAAA,eAAe,CAACiB,IAAD,CAAf;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,6BACC,QAAC,MAAD;AACG,QAAA,WAAW,EAAC,eADf;AAEG,QAAA,OAAO,EAAEhB,OAFZ;AAGG,QAAA,WAAW,EAAC,QAHf;AAIG,QAAA,IAAI,EAAC,QAJR;AAKG,QAAA,QAAQ,EAAEM;AALb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADJ,eAUI,QAAC,YAAD;AACA,MAAA,UAAU,EAAEJ,OADZ;AAEA,MAAA,OAAO,EAAEE,aAFT;AAGA,MAAA,OAAO,EAAEU,cAHT;AAIA,MAAA,WAAW,EAAEC;AAJb;AAAA;AAAA;AAAA;AAAA,YAVJ;AAAA,kBADJ;AAmBH,CA7CD;;GAAMlB,a;;KAAAA,a;AA+CN,eAAeA,aAAf","sourcesContent":["import {useState} from 'react'\r\nimport {Input, message} from 'antd';\r\nimport '../styles/Search.css';\r\nimport SearchResult from './SearchResult';\r\nimport {searchByKeyword} from '../Utils/searchUtils';\r\nconst {Search} = Input;\r\n\r\n\r\nconst KeywordSearch = ({loadSearchResult, loadSelectedPOI}) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [results, setResults] = useState();\r\n    const [resultVisible, setResultVisible] = useState(false);\r\n   // const [showResult, setShowResult] = useState(false);\r\n    const onSearch = (keyword) => {\r\n        setLoading(true);\r\n        searchByKeyword(keyword).then((data) => {\r\n            setResults(data);  \r\n            setResultVisible(true);\r\n            loadSearchResult(data);\r\n        }).catch((err) => message.error(err.message))\r\n          .finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const onCloseResults = ()=>{\r\n        setResultVisible(false);\r\n        setResults([]);\r\n        loadSearchResult([]);\r\n    }\r\n    const onPickedPOI = (item)=> {\r\n        loadSelectedPOI(item);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='search-input'>\r\n             <Search\r\n                placeholder=\"input keyword\"\r\n                loading={loading}\r\n                enterButton=\"Search\"\r\n                size=\"medium\"\r\n                onSearch={onSearch}\r\n            />\r\n            </div>\r\n            <SearchResult \r\n            searchData={results}  \r\n            visible={resultVisible} \r\n            onClose={onCloseResults}\r\n            onSelectPOI={onPickedPOI}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default KeywordSearch\r\n"]},"metadata":{},"sourceType":"module"}