{"ast":null,"code":"var _jsxFileName = \"D:\\\\LaiOffer\\\\TravelPlannerFE\\\\src\\\\SharedComponents\\\\Map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { GoogleMap, useLoadScript, Marker, InfoWindow, DirectionsService, DirectionsRenderer } from \"@react-google-maps/api\";\nimport * as POIData from \"./POI-data-test.json\";\nimport mapStyles from \"../styles/mapStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst libraries = [\"places\"];\nconst mapContainerStyle = {\n  width: '100vw',\n  height: '87.2vh'\n};\nconst imageStyle = {\n  alt: \"img\",\n  float: 'left',\n  width: 100\n}; // const textStyle = {\n//     textalign: 'left'\n// }\n\nconst options = {\n  styles: mapStyles,\n  disableDefaultUI: true,\n  zoomControl: true\n};\nconst center = {\n  lat: 40.748440,\n  lng: -73.985664\n};\nconst directionsCallback = React.useCallback(res => {\n  console.log(res);\n\n  if (res !== null) {\n    if (res.status === 'OK') {\n      setResponse(res);\n    } else {\n      console.log('response: ', res);\n    }\n  }\n}, []);\n\nfunction Map() {\n  _s();\n\n  const [selectedPOI, setSelectedPOI] = useState(null);\n  const {\n    isLoaded,\n    loadError\n  } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLEMAP_API,\n    libraries\n  });\n  const mapRef = React.useRef();\n  const onMapLoad = React.useCallback(map => {\n    mapRef.current = map;\n  }, []);\n  const panTo = React.useCallback(({\n    lat,\n    lng\n  }) => {\n    mapRef.current.panTo({\n      lat,\n      lng\n    });\n    mapRef.current.setZoom(14);\n  }, []);\n  if (loadError) return \"Error\";\n  if (!isLoaded) return \"Loading...\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(GoogleMap // id=\"map\"\n    , {\n      mapContainerStyle: mapContainerStyle,\n      zoom: 10,\n      center: center,\n      options: options // onClick={onMapClick}\n      // onLoad={onMapLoad}\n      ,\n      children: [POIData.features.map(POI => /*#__PURE__*/_jsxDEV(Marker, {\n        position: {\n          lat: POI.geometry.coordinates[1],\n          lng: POI.geometry.coordinates[0]\n        },\n        onClick: () => {\n          setSelectedPOI(POI);\n        } // icon = {{\n        //     url: \" \",\n        //     scaledSize: new window.google.maps.Size(25, 25)\n        // }}\n\n      }, POI.properties.poiid, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)), selectedPOI && /*#__PURE__*/_jsxDEV(InfoWindow, {\n        position: {\n          lat: selectedPOI.geometry.coordinates[1],\n          lng: selectedPOI.geometry.coordinates[0]\n        },\n        onCloseClick: () => {\n          setSelectedPOI(null);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedPOI.properties.imageUrl,\n              style: imageStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: selectedPOI.properties.NAME\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this), \"Address: \", selectedPOI.properties.ADDRESS, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this), \"Description: \", selectedPOI.properties.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this), this.state.destination !== '' && this.state.origin !== '' && /*#__PURE__*/_jsxDEV(DirectionsService // required\n      , {\n        options: {\n          destination: 'new york',\n          origin: 'boston',\n          travelMode: 'DRIVING'\n        } // required\n        ,\n        callback: this.directionsCallback // optional\n        ,\n        onLoad: directionsService => {\n          console.log('DirectionsService onLoad directionsService: ', directionsService);\n        } // optional\n        ,\n        onUnmount: directionsService => {\n          console.log('DirectionsService onUnmount directionsService: ', directionsService);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this), this.state.response !== null && /*#__PURE__*/_jsxDEV(DirectionsRenderer // required\n      , {\n        options: {\n          directions: this.state.response\n        } // optional\n        ,\n        onLoad: directionsRenderer => {\n          console.log('DirectionsRenderer onLoad directionsRenderer: ', directionsRenderer);\n        } // optional\n        ,\n        onUnmount: directionsRenderer => {\n          console.log('DirectionsRenderer onUnmount directionsRenderer: ', directionsRenderer);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Map, \"4P+yqIEAQhujGO1ArnXQUWV7j4I=\", false, function () {\n  return [useLoadScript];\n});\n\n_c = Map;\nexport default Map;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["D:/LaiOffer/TravelPlannerFE/src/SharedComponents/Map.js"],"names":["React","useState","GoogleMap","useLoadScript","Marker","InfoWindow","DirectionsService","DirectionsRenderer","POIData","mapStyles","libraries","mapContainerStyle","width","height","imageStyle","alt","float","options","styles","disableDefaultUI","zoomControl","center","lat","lng","directionsCallback","useCallback","res","console","log","status","setResponse","Map","selectedPOI","setSelectedPOI","isLoaded","loadError","googleMapsApiKey","process","env","REACT_APP_GOOGLEMAP_API","mapRef","useRef","onMapLoad","map","current","panTo","setZoom","features","POI","geometry","coordinates","properties","poiid","imageUrl","NAME","ADDRESS","description","state","destination","origin","travelMode","directionsService","response","directions","directionsRenderer"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport {GoogleMap, useLoadScript, Marker, InfoWindow, DirectionsService, DirectionsRenderer} from \"@react-google-maps/api\";\r\nimport * as POIData from \"./POI-data-test.json\";\r\nimport mapStyles from \"../styles/mapStyles\";\r\n\r\nconst libraries = [\"places\"];\r\nconst mapContainerStyle = {\r\n    width: '100vw',\r\n    height: '87.2vh',\r\n};\r\n\r\nconst imageStyle = {\r\n    alt: \"img\",\r\n    float: 'left',\r\n    width: 100\r\n}\r\n\r\n// const textStyle = {\r\n//     textalign: 'left'\r\n// }\r\nconst options = {\r\n    styles: mapStyles,\r\n    disableDefaultUI: true,\r\n    zoomControl: true,\r\n};\r\nconst center = {\r\n    lat: 40.748440,\r\n    lng: -73.985664,\r\n};\r\n\r\nconst directionsCallback = React.useCallback((res) => {\r\n    console.log(res)\r\n\r\n    if (res !== null) {\r\n      if (res.status === 'OK') {\r\n        setResponse(res)\r\n      } else {\r\n        console.log('response: ', res)\r\n      }\r\n    }\r\n  }, [])\r\n\r\nfunction Map() {\r\n    const[selectedPOI, setSelectedPOI] = useState(null);\r\n\r\n    const {isLoaded, loadError} = useLoadScript({\r\n        googleMapsApiKey: process.env.REACT_APP_GOOGLEMAP_API,\r\n        libraries,\r\n    });\r\n\r\n    const mapRef = React.useRef();\r\n    const onMapLoad = React.useCallback((map) => {\r\n        mapRef.current = map;\r\n    }, [])\r\n\r\n    const panTo = React.useCallback(({lat, lng}) => {\r\n        mapRef.current.panTo({lat, lng});\r\n        mapRef.current.setZoom(14);\r\n    }, [])\r\n    \r\n    if (loadError) return \"Error\";\r\n    if (!isLoaded) return \"Loading...\";\r\n\r\n    return (\r\n        <div>\r\n            <GoogleMap\r\n                // id=\"map\"\r\n                mapContainerStyle={mapContainerStyle}\r\n                zoom={10}\r\n                center={center}\r\n                options={options}\r\n                // onClick={onMapClick}\r\n                // onLoad={onMapLoad}\r\n            >\r\n                {POIData.features.map(POI => (\r\n                    <Marker\r\n                        key = {POI.properties.poiid}\r\n                        position = {{\r\n                            lat: POI.geometry.coordinates[1],\r\n                            lng: POI.geometry.coordinates[0]\r\n                        }}\r\n                        onClick = {() => {\r\n                            setSelectedPOI(POI);\r\n                        }}\r\n                        // icon = {{\r\n                        //     url: \" \",\r\n                        //     scaledSize: new window.google.maps.Size(25, 25)\r\n                        // }}\r\n                    />\r\n                ))}\r\n\r\n                {selectedPOI && (\r\n                    <InfoWindow\r\n                        position = {{\r\n                            lat: selectedPOI.geometry.coordinates[1],\r\n                            lng: selectedPOI.geometry.coordinates[0]\r\n                        }}\r\n                        onCloseClick = {() => {\r\n                            setSelectedPOI(null);\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <div >\r\n                                <img \r\n                                    src={selectedPOI.properties.imageUrl}\r\n                                    style = {imageStyle}\r\n                                />\r\n                            </div>\r\n                            <div >\r\n                                <b>{selectedPOI.properties.NAME}</b>\r\n                                <br/>\r\n                                Address: {selectedPOI.properties.ADDRESS}\r\n                                <br/>\r\n                                Description: {selectedPOI.properties.description}\r\n                            </div>\r\n                        </div>\r\n                    </InfoWindow>\r\n                )}\r\n\r\n                {(\r\n                    this.state.destination !== '' &&\r\n                    this.state.origin !== ''\r\n                ) && (\r\n                    <DirectionsService\r\n                    // required\r\n                    options={{\r\n                        destination: 'new york',\r\n                        origin: 'boston',\r\n                        travelMode: 'DRIVING'\r\n                    }}\r\n                    // required\r\n                    callback={this.directionsCallback}\r\n                    // optional\r\n                    onLoad={directionsService => {\r\n                        console.log('DirectionsService onLoad directionsService: ', directionsService)\r\n                    }}\r\n                    // optional\r\n                    onUnmount={directionsService => {\r\n                        console.log('DirectionsService onUnmount directionsService: ', directionsService)\r\n                    }}\r\n                    />\r\n                )\r\n                }\r\n\r\n                {\r\n                this.state.response !== null && (\r\n                    <DirectionsRenderer\r\n                    // required\r\n                    options={{\r\n                        directions: this.state.response\r\n                    }}\r\n                    // optional\r\n                    onLoad={directionsRenderer => {\r\n                        console.log('DirectionsRenderer onLoad directionsRenderer: ', directionsRenderer)\r\n                    }}\r\n                    // optional\r\n                    onUnmount={directionsRenderer => {\r\n                        console.log('DirectionsRenderer onUnmount directionsRenderer: ', directionsRenderer)\r\n                    }}\r\n                    />\r\n                )\r\n                }\r\n            </GoogleMap>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Map\r\n"]},"metadata":{},"sourceType":"module"}