{"ast":null,"code":"var _jsxFileName = \"D:\\\\LaiOffer\\\\TravelPlannerFE\\\\src\\\\BeforeLogin\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Form, Input, message, Modal } from \"antd\";\nimport React, { useState } from \"react\";\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { login } from \"../Utils/userUtils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm({\n  onLoginSuccess\n}) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [visible, setVisible] = useState(false);\n\n  const onFinish = data => {\n    setLoading(true);\n    onLogin(data);\n  };\n\n  const onLogin = data => {\n    login(data).then(() => {\n      message.success(`Login Successful`);\n      onLoginSuccess(data.username);\n    }).catch(err => {\n      message.error(err.message);\n    }).finally(() => {\n      setLoading(false);\n      setVisible(false);\n    });\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      onClick: () => setVisible(true),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visible,\n      onCancel: onCancel,\n      footer: [/*#__PURE__*/_jsxDEV(Form, {\n        name: \"normal_login\",\n        onFinish: onFinish,\n        style: {\n          width: 300,\n          margin: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"username\",\n          rules: [{\n            required: true,\n            message: \"Please input your Username!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 32\n            }, this),\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: \"Please input your Password!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {\n            prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 41\n            }, this),\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: loading,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(LoginForm, \"LgsLk3SfXPNqGEDjDMj/TKlFbpM=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["D:/LaiOffer/TravelPlannerFE/src/BeforeLogin/LoginForm.js"],"names":["Button","Form","Input","message","Modal","React","useState","LockOutlined","UserOutlined","login","LoginForm","onLoginSuccess","loading","setLoading","visible","setVisible","onFinish","data","onLogin","then","success","username","catch","err","error","finally","onCancel","width","margin","required"],"mappings":"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","sourcesContent":["import { Button, Form, Input, message, Modal } from \"antd\";\r\nimport React, {useState} from \"react\";\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { login } from \"../Utils/userUtils\";\r\n\r\nfunction LoginForm({onLoginSuccess}) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const onFinish = (data) => {\r\n        setLoading(true);\r\n        onLogin(data);\r\n    }\r\n  \r\n    const onLogin = (data) => {\r\n        login(data).then(() => {\r\n            message.success(`Login Successful`);\r\n            onLoginSuccess(data.username)\r\n        }).catch((err) => {\r\n            message.error(err.message);\r\n        }).finally(() => {\r\n            setLoading(false);\r\n            setVisible(false);\r\n        });\r\n    };\r\n\r\n    const onCancel =() => {\r\n        setVisible(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Button type=\"primary\" htmlType=\"submit\" onClick={()=>setVisible(true)}>\r\n            Login\r\n        </Button>\r\n        <Modal \r\n        visible={visible}\r\n        onCancel={onCancel}\r\n        footer={[\r\n            <Form\r\n            name=\"normal_login\"\r\n            onFinish={onFinish}\r\n            style={{\r\n                width: 300,\r\n                margin: \"auto\",\r\n            }}\r\n            >\r\n            <Form.Item\r\n                name=\"username\"\r\n                rules={[{ required: true, message: \"Please input your Username!\" }]}\r\n            >\r\n                <Input prefix={<UserOutlined />} placeholder=\"Username\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[{ required: true, message: \"Please input your Password!\" }]}\r\n            >\r\n                <Input.Password prefix={<LockOutlined />} placeholder=\"Password\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                Login\r\n                </Button>\r\n            </Form.Item>\r\n            </Form>,]}\r\n        >\r\n        </Modal>\r\n        </>\r\n    );\r\n  \r\n}\r\n \r\nexport default LoginForm;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}